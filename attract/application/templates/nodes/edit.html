{% extends 'layout.html' %}

{% block body %}
<div class="col-md-9">
    {% with errors = errors %}
    {% if errors %}
        <div>
        {% for field in errors %}
        <div class="alert alert-danger" role="alert">
            <strong>{{field}}</strong>
            {% for message in errors[field] %}
                {{message}}|
            {% endfor %}
        </div>
        {% endfor %}
        </div>
    {% endif %}
    {% endwith %}
    {% if error!="" %}
        <div class="alert alert-danger" role="alert">
                {{error}}
        </div>
    {% endif %}
</div>
<div class="col-md-9">
  <h2>Edit {{ node.name }}</h2>
  <div class="row">
    <div class="col-md-6">
      <form method="POST" action="{{url_for('nodes.edit', node_id=node._id)}}">
        {% for field in form %}
          {% if field.name == 'csrf_token' %}
            {{ field }}
          {% else %}
            {% if field.type == 'HiddenField' %}
                {{ field }}
            {% else %}
              <div class="form-group">
                {{ field.label }} 
                {{ field(class='form-control') }}
              </div>
            {% endif %}
          {% endif %}
        {% endfor %}
        <a class="btn btn-danger" href="{{url_for('nodes.delete', node_id=node._id)}}">Delete</a>
        <div class="pull-right">
          <a class="btn btn-default" href="#">Cancel</a>
          <input class="btn btn-default" type="submit" value="Update {{node.node_type.name}}">
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
