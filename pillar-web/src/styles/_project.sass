// Flex parent of both tree-view and side-view
#project_container
	position: relative
	// top: -60px
	display: flex
	align-items: stretch
	background-color: white
	margin: 0 auto 15px auto
	border-radius: 3px
	overflow: hidden
	box-shadow: 2px 2px 0 rgba(darken($color-background, 60%), .1)


/* Sidebar Navigation on the left */
#project_nav
	position: relative
	// height: 100%
	overflow: hidden
	width: 280px
	max-width: 300px
	padding: auto 0
	position: relative
	color: lighten($color-text, 10%)
	background-color: rgba(lighten($color-text, 70%), .8)
	border-top-left-radius: 3px
	border-bottom-left-radius: 3px
	border-right: 2px solid lighten($color-text, 60%)
	-webkit-user-select: none
	-moz-user-select: none
	-ms-user-select: none
	-o-user-select: none
	user-select: none


/* Project context on the right of the navigation */
#project_context-container
	position: relative
	min-height: 380px
	width: 100%
	background-color: white
	color: $color-text
	padding: 0
	border-top-right-radius: 3px
	border-bottom-right-radius: 3px

	iframe#server_error
		width: 100%
		min-height: 800px
		border: none

#project_context-header
	width: 100%
	box-shadow: 0 0 15px rgba(black, .1)
	background-color: white
	padding: 10px 10px 5px 10px
	font:
		family: $font-headings-secondary
		size: 1.2em

	ul.breadcrumb
		padding: 0
		margin: 0
		background-color: transparent

#project_tree
	padding: 5px 0

.project_content-loading
	position: absolute
	top: 0
	left: 0
	right: 0
	bottom: 0
	display: flex
	align-items: center
	justify-content: center
	z-index: 12

	.spinner
		border-radius: 50%
		padding: 15px
		background-color: rgba(white, 1)
		width: 100px
		height: 100px
		display: flex
		align-items: center
		justify-content: center
		box-shadow: 0 0 30px rgba(black, .1)
		font-size: 3em
		color: rgba($color-text, .1)


/* Overview, Navtree, draggable split-bar */
.project_split
	height: 100%
	float: right
	position: absolute
	right: -6px
	width: 10px
	z-index: 10
	cursor: col-resize
	-webkit-user-select: none
	-moz-user-select: none
	-ms-user-select: none
	-o-user-select: none
	user-select: none

	&:before
		content: '\f142'
		font-family: 'FontAwesome'
		color: lighten($color-text, 40%)
		position: relative
		padding: 4px 0
		top: 50%
		left: 30%


/* Project Context */
section.project_context-header
	margin: 0
	padding: 0

	img
		width: 100%


section.project_context-content
	.project_context-title
		padding: 20px 15px 5px 15px
		font:
			family: $font-headings-secondary
			size: 2em
	.project_context-description
		padding: 5px 15px 20px 15px
		width: 75%

/* */
section.node-preview
	&.video
		background-color: black

	&.image,
	&.file
		max-height: 600px
		background-color: black

		img
			display: block
			max-width: 100%
			max-height: 600px
			margin: 0 auto


section.node-details-container

	.node-details-header
		.node-title
			margin: 0
			padding: 20px 15px 5px 15px
			font:
				family: $font-headings-secondary
				size: 2em

	.node-details-description
		padding: 5px 15px 20px 15px

	.node-details-meta
		padding: 15px
		border-top: thin solid $color-background
		border-bottom: thin solid $color-background

		ul.node-details-meta-list
			display: flex
			align-items: center

			list-style-type: none
			margin: 0
			padding: 0

			li.node-details-meta-list-item
				margin: 0
				padding: 0 10px 0 0
				line-height: 1em
				float: left

				&.status
					margin-right: 10px
					font-size: .9em
					text-transform: capitalize
					color: lighten($color-text, 30%)
					padding: 5px 15px
					border: thin solid lighten($color-text, 40%)
					border-radius: 3px

				/* Download button */
				&.download
					align-self: flex-end
					margin-left: auto
					padding: 0 0 0 15px

					/* Actual button */
					button
						color: lighten($color-text, 10%)
						border: thin solid darken($color-background, 10%)
						border-radius: 50px
						padding:
							left: 20px
							right: 15px

						&:hover
							color: $color-primary
							border-color: $color-primary
							background-color: transparent

						&:focus
							outline: none
							box-shadow: none
							color: $color-primary
							border-color: $color-primary
							background-color: $color-background

						i
							padding-left: 10px

					&.image
						button
							padding-left: 15px

					/* Download dropdown options */
					ul.dropdown-menu
						width: auto
						min-width: 240px
						padding: 0
						margin: 0
						top: initial
						left: initial
						right: 0
						bottom: 35px
						border: thin solid rgba(darken($color-background, 5%), .3)
						border-top-left-radius: 3px
						border-top-right-radius: 3px
						border-bottom-left-radius: 0
						border-bottom-right-radius: 0

						li
							padding: 0
							text-align: right
							clear: both
							display: flex
							align-items: center

							a
								padding: 10px 15px
								width: 100%

								&:hover
									color: $color-primary
									background-color: transparent

								span
									&.length
										float: left
										color: lighten($color-text, 40%)
										padding-right: 15px
									&.format
										text-transform: uppercase
										align-self: flex-end
										margin-left: auto
									&.size
										float: right
										display: inline-block
										padding-left: 15px
					&.open
						button
							box-shadow: none

section.node-children
	&.group
		padding: 15px

$list-node-children-item-width: 160px

.list-node-children-item
	float: left
	margin: 10px 20px 10px 0
	border-radius: 3px
	color: $color-text
	background-color: darken(white, 5%)
	box-shadow: 2px 2px 0 rgba(darken($color-background, 60%), .1)
	width: $list-node-children-item-width
	overflow: hidden
	text-overflow: ellipsis

	&:hover
		opacity: .9
		color: darken($color-primary, 20%)

	& .list-node-children-item-picture
		display: block
		width: $list-node-children-item-width
		height: $list-node-children-item-width
		background-color: darken(white, 12%)
		position: relative
		text-align: center

		& .list-node-children-item-folder
			position: absolute
			top: 50%
			transform: translateY(-50%)
			font-size: 6em
			color: darken(white, 25%)
			width: $list-node-children-item-width

	& .list-node-children-item-name
		display: inline-block
		padding: 5px 3px 0px 10px
		font-size: .9em
		+text-overflow-ellipsis
		width: $list-node-children-item-width

	& .list-node-children-item-icon
		padding-right: 3px
		color: lighten($color-text, 30%)

.debug
	font:
		family: monospace
		size: .9em
	padding: 10px 15px
